# helpme.bot
# Telegram BusinessTrip Bot

–¶–µ Telegram-–±–æ—Ç –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–∞–º–∏ –ø—Ä–æ–¥–∞–≤—Ü—ñ–≤: —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–º—ñ–Ω, –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è, –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∫–µ—Ä—ñ–≤–Ω–∏–∫–æ–º, –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è, –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –ø—Ä–∏–±—É—Ç—Ç—è.  
–°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞—Ü—é—î —á–µ—Ä–µ–∑ Google Sheets + Persistent JobQueue –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –Ω–∞–≥–∞–¥—É–≤–∞–Ω—å –Ω–∞–≤—ñ—Ç—å –ø—ñ—Å–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É.

–ë–æ—Ç –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∏–π –¥–ª—è –¥–µ–ø–ª–æ—é –Ω–∞ **Railway** —É —Ä–µ–∂–∏–º—ñ **Webhook**.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É
/bot.py
/.env
/service_account.json
/Procfile
/runtime.txt
/requirements.txt
/README.md


---

## üîß –ù–µ–æ–±—Ö—ñ–¥–Ω—ñ —Ñ–∞–π–ª–∏

### 1. **`.env`**  
–°—Ç–≤–æ—Ä–∏ —Ñ–∞–π–ª `.env` —É –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ—î–∫—Ç—É:

TELEGRAM_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
GOOGLE_SHEETS_SPREADSHEET_NAME=BusinessTrip_forBot
GOOGLE_SERVICE_ACCOUNT_JSON={"—Ç–∏–ø":"service_account", ...} # –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π service_account.json —Ñ–∞–π–ª
WEBHOOK_HOST=https://your-app-name.up.railway.app

DEFAULT_DAYS_AHEAD=30


> –Ø–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—à *—Ñ—ñ–∑–∏—á–Ω–∏–π —Ñ–∞–π–ª* service_account.json ‚Äî —Ç–æ–¥—ñ —É `.env` —Ç–∞–∫:
>
> ```
> GOOGLE_SERVICE_ACCOUNT_JSON=service_account.json
> ```

---

### 2. **`service_account.json`**
JSON-–∫–ª—é—á Google Service Account –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ —Ç–∞–±–ª–∏—Ü—å Google Sheets.

–§–∞–π–ª –º–∞—î –ª–µ–∂–∞—Ç–∏ –≤ –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ—î–∫—Ç—É.

---

### 3. **`Procfile`**

web: python3 bot.py

---

### 4. **`runtime.txt`**

python-311

---

### 5. **`requirements.txt`**

python-telegram-bot==22.4
gspread==6.2.1
google-auth==2.28.1
python-dotenv==1.1.1
requests==2.31.0
oauth2client

> –Ø–∫—â–æ –±—É–¥–µ—à –±–∞—á–∏—Ç–∏ –ø–æ–º–∏–ª–∫–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π ‚Äî –¥–∞–π –∑–Ω–∞—Ç–∏, –ø—ñ–¥–ª–∞—à—Ç—É—é.

---

## üöÄ –î–µ–ø–ª–æ–π –Ω–∞ Railway (Webhook Mode)

### 1. –°—Ç–≤–æ—Ä–∏ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π —ñ –∑–∞–≤–∞–Ω—Ç–∞–∂ —É—Å—ñ —Ñ–∞–π–ª–∏  
–ó–∞–≤–∞–Ω—Ç–∞–∂—É—î—à:

- bot.py  
- .env  
- requirements.txt  
- Procfile  
- runtime.txt  
- service_account.json  

---

### 2. –£ Railway ‚Üí New Project ‚Üí Deploy from GitHub  
–ü—ñ–¥'—î–¥–Ω–∞–π —Å–≤—ñ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π.

---

### 3. –£ –ø–µ—Ä–µ–º—ñ–Ω–Ω–∏—Ö Railway –¥–æ–¥–∞–π `.env` (–≤—Å–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥—Ç—è–≥—É—î—Ç—å—Å—è)

Railway —Å–∞–º –ø–µ—Ä–µ–¥–∞—Å—Ç—å:

- `PORT`  
- —ñ–Ω—à—ñ ENV  

–¢–∏ –¥–æ–¥–∞—î—à –ª–∏—à–µ:

- TELEGRAM_TOKEN  
- WEBHOOK_HOST  
- GOOGLE_SERVICE_ACCOUNT_JSON –∞–±–æ —Ñ–∞–π–ª  
- GOOGLE_SHEETS_SPREADSHEET_NAME  

---

### 4. –ó–∞–ø—É—Å–∫–∞—î–º–æ –¥–µ–ø–ª–æ–π  
Railway –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ, –∑–±–µ—Ä–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —ñ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ—Ü–µ—Å:

web: python3 bot.py

---

### 5. –ü–µ—Ä–µ–≤—ñ—Ä webhook –ø—ñ–¥ —á–∞—Å —Å—Ç–∞—Ä—Ç—É  
–£ –ª–æ–≥–∞—Ö —Ç–∏ –ø–æ–±–∞—á–∏—à:

Bot is running (webhook mode)...

WEBHOOK_URL = https://your-app-name.up.railway.app/webhook/
<token>

Telegram –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥‚Äô—î–¥–Ω–∞—î—Ç—å—Å—è.

---

## üß™ –¢–µ—Å—Ç–∏ –ø—ñ—Å–ª—è –¥–µ–ø–ª–æ—é

–ü–µ—Ä–µ–≤—ñ—Ä:

### ‚úîÔ∏è `/start`
–ë–æ—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —ñ –ø–æ–∫–∞–∑—É—î –º–µ–Ω—é.

### ‚úîÔ∏è –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–º—ñ–Ω–∏
–î–∞–Ω—ñ –∑'—è–≤–ª—è—é—Ç—å—Å—è —É Google Sheets.

### ‚úîÔ∏è –ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è
–ö–µ—Ä—ñ–≤–Ω–∏–∫ –æ—Ç—Ä–∏–º—É—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.

### ‚úîÔ∏è Persistent JobQueue
–ß–µ—Ä–µ–∑ –∫—ñ–ª—å–∫–∞ —Ö–≤–∏–ª–∏–Ω –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ Railway ‚Üí –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è –º–∞—é—Ç—å –∑–±–µ—Ä–µ–≥—Ç–∏—Å—è.

---

## üîí –ë–µ–∑–ø–µ–∫–∞

- –ù–Ü–ö–û–õ–ò –Ω–µ –≤–∏–∫–ª–∞–¥–∞–π `.env` —Ç–∞ `service_account.json` —É –≤—ñ–¥–∫—Ä–∏—Ç–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π.  
- Railway –¥–æ–∑–≤–æ–ª—è—î –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —ó—Ö —è–∫ **Private Variables**.

---

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–Ø–∫—â–æ –≤–∏–Ω–∏–∫–Ω—É—Ç—å –ø–æ–º–∏–ª–∫–∏ –≤ –ª–æ–≥–∞—Ö Railway ‚Äî —Å–∫–∏–Ω—å —ó—Ö —É —á–∞—Ç, —ñ —è –≤–∏–ø—Ä–∞–≤–ª—é.  
–ú–æ–∂—É —Ç–∞–∫–æ–∂ –∑—ñ–±—Ä–∞—Ç–∏ –¥–ª—è —Ç–µ–±–µ **–∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ —ñ–∑ —Ä–µ–∑–µ—Ä–≤–Ω–∏–º polling**, —è–∫—â–æ webhook –∑ —è–∫–∏—Ö–æ—Å—å –ø—Ä–∏—á–∏–Ω –≤—ñ–¥–ø–∞–¥–µ.

---

 –•–æ—á–µ—à —â–µ –ø—ñ–¥–≥–æ—Ç—É—é `.env.example`, —â–æ–± –º–æ–∂–Ω–∞ –±—É–ª–æ –¥—ñ–ª–∏—Ç–∏—Å—è –∑ –∫–æ–º–∞–Ω–¥–æ—é –±–µ–∑ —Å–µ–∫—Ä–µ—Ç—ñ–≤?
